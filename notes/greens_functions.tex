\chapter{Green's Function Formalism}\label{ch:green's-function-formalism}

Following~\cite{Bruus_Flensberg_2004}

Green's functions: method to encode influence of many-body effects on propagation of particles in a system.

Have different kinds of Green's functions, for example the retarded Green's function:
\begin{equation}
    G^R (\vb{r}\sigma t, \vb{r}^{\prime} \sigma^{\prime} t^{\prime}) = -\iu \Theta(t- t^{\prime}) \braket{ \{c_{\vb{r} \sigma} (t), c_{\vb{r} \sigma}^{\dagger} (t^{\prime})\}}
\end{equation}
They give the amplitude of a particle inserted at point \(\vb{r}^{\prime}\) at time \(t^{\prime}\) to propagate to position \(\vb{r}\) at time \(t\).
In a translation invariant system: can use \(\vb{k}\) as a natural basis set:
\begin{equation}
    G^R (\vb{k}, \sigma t, \sigma^{\prime} t^{\prime}) = -\iu \Theta(t- t^{\prime}) \braket{ \{c_{\vb{k} \sigma} (t), c_{\vb{k} \sigma}^{\dagger} (t^{\prime})\}}
\end{equation}
Can define the spectral function from this:
\begin{equation}
    A(\vb{k} \sigma, \omega) = -2 \Im G^R (\vb{k} \sigma, \omega)
\end{equation}
\todo{Energy dependent retarded GF}

\todo{Show GFs can be relatex to observables}

Mathematical technique to calculate retarded GFs involves defining GFs on imaginary times \gls{imaginary time}:
\begin{equation}
    t \to -\iu \tau
\end{equation}
where \(\tau\) is real and has the dimension time.
This enables the simultaneous expansion of exponential \(e^{-\beta H}\) coming from the thermodynamic average and \(e^{-\iu H t}\) coming from the time evolution of operators.

\todo{Definitions of Matsubara GFs}

Define imaginary time/Matsubara GF \gls{matsubara correlation function}:
\begin{equation}
    \mathcal{C}_{A B} (\tau, 0) = - \Braket{T_{\tau} (A(\tau) B(0))}
\end{equation}
with time-ordering operator in imaginary time: \todo{ordering operator}

Can prove from properties of Matsubara GF, that they are only defined for
\begin{equation}
    -\beta < \tau < \beta
\end{equation}
Due to this, the Fourier transform of the Matsubara GF is defined on discrete values:
\begin{equation}
    \mathcal{C}_{A B} (\iu \omega_n) = \int_{0}^{\beta} \odif{\tau}
\end{equation}
with fermionic/bosonic Matsubara frequencies
\begin{equation}
    \omega_n =
    \begin{cases}
        \frac{2n \pi}{\beta} \, \text{for bosons} \\
        \frac{(2n + 1)\pi}{\beta} \, \text{for fermions}
    \end{cases}
\end{equation}

\todo{How to resolve ambiguity at borders of integral}

\todo{Connection to real-time GFs}

Extrapolation of the Matsubara GF to zero is proportional to the density of states at the chemical potential.
Gapped: density is zero (Matsubara GF goes to 0), metal: density is finite (Matsubara GF goes to finite value) ~\cite[8.3.4]{Bruus_Flensberg_2004}.


\todo{single-particle Matsubara GF}

\todo{equations of motion for Matsubara GF}

\todo{A bit of perturbation theory -> Dyson equation and self-energy}


\section{Nambu-Gorkov GF}

\todo{More general introduction into NG GFs, how they look like, what they describe etc.}

Order parameter can be chosen as the anomalous GF:
\begin{equation}
    \Psi = F^{\mathrm{loc}} (\tau = 0^-)
\end{equation}
or the superconducting gap
\begin{equation}
    \Delta = Z \Sigma^{\mathrm{AN}}
\end{equation}
that can be calculated from the anomalous self-energy \(\Sigma^{\mathrm{AN}}\) and quasiparticle weight \(Z\)
\todo{Sources for these?}

\todo{How to get quasiparticle weight?}

